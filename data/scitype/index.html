<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
   <!-- Syntax highlighting via Prism, note: restricted langs -->
<link rel="stylesheet" href="/libs/highlight/github.min.css">
 
  <link rel="stylesheet" href="/css/franklin.css">
  <link rel="stylesheet" href="/css/pure.css">
  <link rel="stylesheet" href="/css/side-menu.css">
  <link rel="stylesheet" href="/css/extra.css">
  <!-- <link rel="icon" href="/assets/infra/favicon.gif"> -->
   <title>Data interpretation: Scientific Types</title>  
  <!-- LUNR -->
  <script src="/libs/lunr/lunr.min.js"></script>
  <script src="/libs/lunr/lunr_index.js"></script>
  <script src="/libs/lunr/lunrclient.min.js"></script>
</head>
<body>
  <div id="layout">
    <!-- Menu toggle / hamburger icon -->
    <a href="#menu" id="menuLink" class="menu-link"><span></span></a>
    <div id="menu">
      <div class="pure-menu">
        <a href="/" id="menu-logo-link">
          <div class="menu-logo">
            <!-- <img id="menu-logo" alt="MLJ Logo" src="/assets/infra/MLJLogo2.svg" /> -->
            <p><strong>Data Science Tutorials</strong></p>
          </div>
        </a>
        <form id="lunrSearchForm" name="lunrSearchForm">
          <input class="search-input" name="q" placeholder="Enter search term" type="text">
          <input type="submit" value="Search" formaction="/search/index.html" style="visibility:hidden">
        </form>
  <!-- LIST OF MENU ITEMS -->
  <ul class="pure-menu-list">
    <li class="pure-menu-item pure-menu-top-item "><a href="/" class="pure-menu-link"><strong>Home</strong></a></li>

    <!-- DATA BASICS -->
    <li class="pure-menu-sublist-title"><strong>Data basics</strong></li>
    <ul class="pure-menu-sublist">
      <li class="pure-menu-item "><a href="/data/loading/" class="pure-menu-link"><span style="padding-right:0.5rem;">•</span> Loading data</a></li>
      <li class="pure-menu-item "><a href="/data/dataframe/" class="pure-menu-link"><span style="padding-right:0.5rem;">•</span> Data Frames</a></li>
      <li class="pure-menu-item "><a href="/data/categorical/" class="pure-menu-link"><span style="padding-right:0.5rem;">•</span> Categorical Arrays</a></li>
      <li class="pure-menu-item "><a href="/data/scitype/" class="pure-menu-link"><span style="padding-right:0.5rem;">•</span> Scientific Type</a></li>
      <li class="pure-menu-item "><a href="/data/processing/" class="pure-menu-link"><span style="padding-right:0.5rem;">•</span> Data processing</a></li>
    </ul>

    <!-- GETTING STARTED WITH MLJ -->
    <li class="pure-menu-sublist-title"><strong>Getting started</strong></li>
    <ul class="pure-menu-sublist">
      <li class="pure-menu-item "><a href="/getting-started/choosing-a-model/" class="pure-menu-link"><span style="padding-right:0.5rem;">•</span> Choosing a model</a></li>
      <li class="pure-menu-item "><a href="/getting-started/fit-and-predict/" class="pure-menu-link"><span style="padding-right:0.5rem;">•</span> Fit, predict, transform</a></li>
      <li class="pure-menu-item "><a href="/getting-started/model-tuning/" class="pure-menu-link"><span style="padding-right:0.5rem;">•</span> Model tuning</a></li>
      <li class="pure-menu-item "><a href="/getting-started/ensembles/" class="pure-menu-link"><span style="padding-right:0.5rem;">•</span> Ensembles</a></li>
      <li class="pure-menu-item "><a href="/getting-started/ensembles-2/" class="pure-menu-link"><span style="padding-right:0.5rem;">•</span> Ensembles (2)</a></li>
      <li class="pure-menu-item "><a href="/getting-started/ensembles-3/" class="pure-menu-link"><span style="padding-right:0.5rem;">•</span> Ensembles (3)</a></li>
      <li class="pure-menu-item "><a href="/getting-started/composing-models/" class="pure-menu-link"><span style="padding-right:0.5rem;">•</span> Composing models</a></li>
      <li class="pure-menu-item "><a href="/getting-started/learning-networks/" class="pure-menu-link"><span style="padding-right:0.5rem;">•</span> Learning networks</a></li>
      <li class="pure-menu-item "><a href="/getting-started/learning-networks-2/" class="pure-menu-link"><span style="padding-right:0.5rem;">•</span> Learning networks (2)</a></li>
      <li class="pure-menu-item "><a href="/getting-started/stacking/" class="pure-menu-link"><span style="padding-right:0.5rem;">•</span> Stacking</a></li>
    </ul>

    <!-- INTRO TO STATS LEARNING -->
    <li class="pure-menu-sublist-title"><strong>Intro to Stats Learning</strong></li>
    <ul class="pure-menu-sublist" id=isl>
      <li class="pure-menu-item "><a href="/isl/lab-2/" class="pure-menu-link"><span style="padding-right:0.5rem;">•</span> Lab 2</a></li>
      <li class="pure-menu-item "><a href="/isl/lab-3/" class="pure-menu-link"><span style="padding-right:0.5rem;">•</span> Lab 3</a></li>
      <li class="pure-menu-item "><a href="/isl/lab-4/" class="pure-menu-link"><span style="padding-right:0.5rem;">•</span> Lab 4</a></li>
      <li class="pure-menu-item "><a href="/isl/lab-5/" class="pure-menu-link"><span style="padding-right:0.5rem;">•</span> Lab 5</a></li>
      <li class="pure-menu-item "><a href="/isl/lab-6b/" class="pure-menu-link"><span style="padding-right:0.5rem;">•</span> Lab 6b</a></li>
      <li class="pure-menu-item "><a href="/isl/lab-8/" class="pure-menu-link"><span style="padding-right:0.5rem;">•</span> Lab 8</a></li>
      <li class="pure-menu-item "><a href="/isl/lab-9/" class="pure-menu-link"><span style="padding-right:0.5rem;">•</span> Lab 9</a></li>
      <li class="pure-menu-item "><a href="/isl/lab-10/" class="pure-menu-link"><span style="padding-right:0.5rem;">•</span> Lab 10</a></li>
    </ul>

    <!-- END TO END EXAMPLES -->
    <li class="pure-menu-sublist-title"><strong>End to end examples</strong></li>
    <ul class="pure-menu-sublist" id=e2e>
      <li class="pure-menu-item "><a href="/end-to-end/AMES/" class="pure-menu-link"><span style="padding-right:0.5rem;">•</span> AMES</a></li>
      <li class="pure-menu-item "><a href="/end-to-end/wine/" class="pure-menu-link"><span style="padding-right:0.5rem;">•</span> Wine</a></li>
      <li class="pure-menu-item "><a href="/end-to-end/crabs-xgb/" class="pure-menu-link"><span style="padding-right:0.5rem;">•</span> Crabs (XGB)</a></li>
      <li class="pure-menu-item "><a href="/end-to-end/horse/" class="pure-menu-link"><span style="padding-right:0.5rem;">•</span> Horse</a></li>
      <li class="pure-menu-item "><a href="/end-to-end/HouseKingCounty/" class="pure-menu-link"><span style="padding-right:0.5rem;">•</span> King County Houses</a></li>
      <li class="pure-menu-item "><a href="/end-to-end/airfoil" class="pure-menu-link"><span style="padding-right:0.5rem;">•</span> Airfoil </a></li>
      <li class="pure-menu-item "><a href="/end-to-end/boston-lgbm" class="pure-menu-link"><span style="padding-right:0.5rem;">•</span> Boston (lgbm) </a></li>
      <li class="pure-menu-item "><a href="/end-to-end/glm/" class="pure-menu-link"><span style="padding-right:0.5rem;">•</span> Using GLM.jl </a></li>
      <li class="pure-menu-item "><a href="/end-to-end/powergen/" class="pure-menu-link"><span style="padding-right:0.5rem;">•</span> Power Generation </a></li>
      <li class="pure-menu-item "><a href="/end-to-end/boston-flux" class="pure-menu-link"><span style="padding-right:0.5rem;">•</span> Boston (Flux) </a></li>
    </ul>
  </ul>
  <!-- END OF LIST OF MENU ITEMS -->
      </div>
    </div>
    <div id="main"> <!-- Closed in foot -->
      

<!-- Content appended here -->
<div class="franklin-content"><h1 id="data_interpretation_scientific_types"><a href="#data_interpretation_scientific_types" class="header-anchor">Data interpretation: Scientific Types</a></h1>
<div class="franklin-toc"><ol><li><a href="#machine_type_vs_scientific_type">Machine type vs Scientific Type</a><ol><li><a href="#why_make_a_distinction">Why make a distinction?</a></li><li><a href="#the_scientific_types">The Scientific Types</a></li><li><a href="#inspecting_the_scitype">Inspecting the scitype</a></li><li><a href="#changing_the_scitype">Changing the scitype</a></li><li><a href="#string_and_unknown">String and Unknown</a></li></ol></li><li><a href="#tips_and_tricks">Tips and tricks</a><ol><li><a href="#type_to_type_coercion">Type to Type coercion</a></li><li><a href="#autotype">Autotype</a></li></ol></li></ol></div>
<h2 id="machine_type_vs_scientific_type"><a href="#machine_type_vs_scientific_type" class="header-anchor">Machine type vs Scientific Type</a></h2>
<h3 id="why_make_a_distinction"><a href="#why_make_a_distinction" class="header-anchor">Why make a distinction?</a></h3>
<p>When analysing data, it is important to distinguish between</p>
<ul>
<li><p><em>how the data is encoded</em> &#40;e.g. <code>Int</code>&#41;, and</p>
</li>
<li><p><em>how the data should be interpreted</em> &#40;e.g. a class label, a count, ...&#41;</p>
</li>
</ul>
<p>How the data is encoded will be referred to  as the <strong>machine type</strong> whereas how the data should be interpreted  will  be referred to   as the <strong>scientific type</strong> &#40;or <code>scitype</code>&#41;.</p>
<p>In some cases, this may be un-ambiguous, for instance if you have a vector of floating point values, this should usually be interpreted as a continuous feature &#40;e.g.: weights, speeds, temperatures, ...&#41;.</p>
<p>In many other cases however, there may be ambiguities, we list a few examples below:</p>
<ul>
<li><p>A vector  of <code>Int</code> e.g. <code>&#91;1, 2, ...&#93;</code> which should be interpreted as categorical labels,</p>
</li>
<li><p>A vector of <code>Int</code> e.g. <code>&#91;1, 2,  ...&#93;</code> which should be interpreted as count data,</p>
</li>
<li><p>A vector of <code>String</code> e.g. <code>&#91;&quot;High&quot;, &quot;Low&quot;, &quot;High&quot;, ...&#93;</code> which should  be  interpreted as ordered categorical labels,</p>
</li>
<li><p>A vector of <code>String</code> e.g. <code>&#91;&quot;John&quot;, &quot;Maria&quot;, ...&#93;</code> which should not interpreted as informative data,</p>
</li>
<li><p>A vector of floating points <code>&#91;1.5,  1.5, -2.3, -2.3&#93;</code> which should be interpreted as categorical data &#40;e.g. the few possible values of some setting&#41;, etc.</p>
</li>
</ul>
<h3 id="the_scientific_types"><a href="#the_scientific_types" class="header-anchor">The Scientific Types</a></h3>
<p>The package <a href="https://github.com/alan-turing-institute/ScientificTypes.jl">ScientificTypes.jl</a> defines a barebone type hierarchy which can be used to indicate how a particular feature should be interpreted; in particular:</p>
<pre><code class="language-plaintext">Found
├─ Known
│  ├─ Textual
│  ├─ Finite
│  │  ├─ Multiclass
│  │  └─ OrderedFactor
│  └─ Infinite
│     ├─ Continuous
│     └─ Count
└─ Unknown</code></pre>
<p>A <em>scientific type convention</em> is a specific implementation indicating how machine types can be related to scientific types. It may also provide helper functions to convert data to a given scitype.</p>
<p>The convention used in MLJ is implemented in <a href="https://github.com/alan-turing-institute/MLJScientificTypes.jl">MLJScientificTypes.jl</a>. This is what we will use throughout; you never need to use ScientificTypes.jl unless you intend to implement your own scientific type convention.</p>
<h3 id="inspecting_the_scitype"><a href="#inspecting_the_scitype" class="header-anchor">Inspecting the scitype</a></h3>
<p>The <code>schema</code> function</p>
<pre><code class="language-julia">using RDatasets
using ScientificTypes

boston &#61; dataset&#40;&quot;MASS&quot;, &quot;Boston&quot;&#41;
sch &#61; schema&#40;boston&#41;</code></pre><pre><code class="plaintext code-output">┌─────────┬─────────┬────────────┐
│ _.names │ _.types │ _.scitypes │
├─────────┼─────────┼────────────┤
│ Crim    │ Float64 │ Continuous │
│ Zn      │ Float64 │ Continuous │
│ Indus   │ Float64 │ Continuous │
│ Chas    │ Int64   │ Count      │
│ NOx     │ Float64 │ Continuous │
│ Rm      │ Float64 │ Continuous │
│ Age     │ Float64 │ Continuous │
│ Dis     │ Float64 │ Continuous │
│ Rad     │ Int64   │ Count      │
│ Tax     │ Int64   │ Count      │
│ PTRatio │ Float64 │ Continuous │
│ Black   │ Float64 │ Continuous │
│ LStat   │ Float64 │ Continuous │
│ MedV    │ Float64 │ Continuous │
└─────────┴─────────┴────────────┘
_.nrows = 506
</code></pre>
<p>In this cases, most of the variables have a &#40;machine&#41; type <code>Float64</code> and their default  interpretation is <code>Continuous</code>. There is also <code>:Chas</code>, <code>:Rad</code> and <code>:Tax</code> that have a &#40;machine&#41; type <code>Int64</code> and their default interpretation is <code>Count</code>.</p>
<p>While the interpretation as <code>Continuous</code> is usually fine, the interpretation as <code>Count</code> needs a bit more attention. For instance note that:</p>
<pre><code class="language-julia">unique&#40;boston.Chas&#41;</code></pre><pre><code class="plaintext code-output">2-element Vector{Int64}:
 0
 1</code></pre>
<p>so even  though it&#39;s got a machine type of <code>Int64</code> and consequently a default  interpretation of <code>Count</code>, it would be more appropriate to interpret it as an <code>OrderedFactor</code>.</p>
<h3 id="changing_the_scitype"><a href="#changing_the_scitype" class="header-anchor">Changing the scitype</a></h3>
<p>In order to re-specify the scitype&#40;s&#41; of  feature&#40;s&#41; in a dataset, you can use the <code>coerce</code> function and  specify pairs of variable name and  scientific type:</p>
<pre><code class="language-julia">boston2 &#61; coerce&#40;boston, :Chas &#61;&gt; OrderedFactor&#41;;</code></pre>
<p>the effect of this is to convert the <code>:Chas</code> column to an ordered categorical vector:</p>
<pre><code class="language-julia">eltype&#40;boston2.Chas&#41;</code></pre><pre><code class="plaintext code-output">CategoricalArrays.CategoricalValue{Int64, UInt32}</code></pre>
<p>corresponding to the <code>OrderedFactor</code> scitype:</p>
<pre><code class="language-julia">elscitype&#40;boston2.Chas&#41;</code></pre><pre><code class="plaintext code-output">ScientificTypesBase.OrderedFactor{2}</code></pre>
<p>You can also specify multiple pairs in one shot with <code>coerce</code>:</p>
<pre><code class="language-julia">boston3 &#61; coerce&#40;boston, :Chas &#61;&gt; OrderedFactor, :Rad &#61;&gt; OrderedFactor&#41;;</code></pre>
<h3 id="string_and_unknown"><a href="#string_and_unknown" class="header-anchor">String and Unknown</a></h3>
<p>If a feature in  your dataset has String elements, then the  default scitype is <code>Textual</code>; you can either choose to  drop  such columns or to coerce them to categorical:</p>
<pre><code class="language-julia">feature &#61; &#91;&quot;AA&quot;, &quot;BB&quot;, &quot;AA&quot;, &quot;AA&quot;, &quot;BB&quot;&#93;
elscitype&#40;feature&#41;</code></pre><pre><code class="plaintext code-output">ScientificTypesBase.Textual</code></pre>
<p>which you can coerce:</p>
<pre><code class="language-julia">feature2 &#61; coerce&#40;feature, Multiclass&#41;
elscitype&#40;feature2&#41;</code></pre><pre><code class="plaintext code-output">ScientificTypesBase.Multiclass{2}</code></pre>
<h2 id="tips_and_tricks"><a href="#tips_and_tricks" class="header-anchor">Tips and tricks</a></h2>
<h3 id="type_to_type_coercion"><a href="#type_to_type_coercion" class="header-anchor">Type to Type coercion</a></h3>
<p>In  some cases you will want to reinterpret all features currently interpreted as some scitype <code>S1</code> into some other scitype <code>S2</code>. An example  is if some features are currently interpreted as <code>Count</code> because their original type was <code>Int</code> but you  want  to  consider all such as <code>Continuous</code>:</p>
<pre><code class="language-julia">data &#61; select&#40;boston, &#91;:Rad, :Tax&#93;&#41;
schema&#40;data&#41;</code></pre><pre><code class="plaintext code-output">┌─────────┬─────────┬────────────┐
│ _.names │ _.types │ _.scitypes │
├─────────┼─────────┼────────────┤
│ Rad     │ Int64   │ Count      │
│ Tax     │ Int64   │ Count      │
└─────────┴─────────┴────────────┘
_.nrows = 506
</code></pre>
<p>let&#39;s coerce from <code>Count</code> to <code>Continuous</code>:</p>
<pre><code class="language-julia">data2 &#61; coerce&#40;data, Count &#61;&gt; Continuous&#41;
schema&#40;data2&#41;</code></pre><pre><code class="plaintext code-output">┌─────────┬─────────┬────────────┐
│ _.names │ _.types │ _.scitypes │
├─────────┼─────────┼────────────┤
│ Rad     │ Float64 │ Continuous │
│ Tax     │ Float64 │ Continuous │
└─────────┴─────────┴────────────┘
_.nrows = 506
</code></pre>
<h3 id="autotype"><a href="#autotype" class="header-anchor">Autotype</a></h3>
<p>A last useful tool is <code>autotype</code> which allows you to specify <em>rules</em> to define the interpretation of features automatically. You can code your own rules but there are three useful ones that are pre- coded:</p>
<ul>
<li><p>the <code>:few_to_finite</code> rule which checks how many unique entries are present</p>
</li>
</ul>
<p>in a vector and if there are &quot;few&quot; suggests a categorical type,</p>
<ul>
<li><p>the <code>:discrete_to_continuous</code> rule converts <code>Integer</code> or <code>Count</code> to</p>
</li>
</ul>
<code>Continuous</code>
<ul>
<li><p>the <code>:string_to_multiclass</code> which returns <code>Multiclass</code> for any string-like</p>
</li>
</ul>
<p>column.</p>
<p>For instance:</p>
<pre><code class="language-julia">boston3 &#61; coerce&#40;boston, autotype&#40;boston, :few_to_finite&#41;&#41;
schema&#40;boston3&#41;</code></pre><pre><code class="plaintext code-output">┌─────────┬───────────────────────────────────┬───────────────────┐
│ _.names │ _.types                           │ _.scitypes        │
├─────────┼───────────────────────────────────┼───────────────────┤
│ Crim    │ Float64                           │ Continuous        │
│ Zn      │ CategoricalValue{Float64, UInt32} │ OrderedFactor{26} │
│ Indus   │ Float64                           │ Continuous        │
│ Chas    │ CategoricalValue{Int64, UInt32}   │ OrderedFactor{2}  │
│ NOx     │ Float64                           │ Continuous        │
│ Rm      │ Float64                           │ Continuous        │
│ Age     │ Float64                           │ Continuous        │
│ Dis     │ Float64                           │ Continuous        │
│ Rad     │ CategoricalValue{Int64, UInt32}   │ OrderedFactor{9}  │
│ Tax     │ Int64                             │ Count             │
│ PTRatio │ CategoricalValue{Float64, UInt32} │ OrderedFactor{46} │
│ Black   │ Float64                           │ Continuous        │
│ LStat   │ Float64                           │ Continuous        │
│ MedV    │ Float64                           │ Continuous        │
└─────────┴───────────────────────────────────┴───────────────────┘
_.nrows = 506
</code></pre>
<p>You can also specify multiple rules, see <a href="https://alan-turing-institute.github.io/MLJScientificTypes.jl/stable/#Automatic-type-conversion-for-tabular-data-1">the docs</a> for more information.</p>

<div class="page-foot">
  <div class="copyright">
    &copy; Thibaut Lienart, Anthony Blaom, Sebastian Vollmer and collaborators. Last modified: August 02, 2021. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a>.
  </div>
</div>
</div><!-- CONTENT ENDS HERE -->
      </div> <!-- end of id=main -->
  </div> <!-- end of id=layout -->
  <script src="/libs/pure/ui.min.js"></script>
  
  
      <script src="/libs/highlight/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();hljs.configure({tabReplace: '    '});</script>

  
</body>
</html>
